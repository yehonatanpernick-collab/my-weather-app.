<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TITAN GLOBAL EYE ğŸ‘ï¸</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            background-color: #050505;
            color: #ffffff;
            font-family: 'Heebo', sans-serif;
            overflow-x: hidden;
        }

        /* ×¢×™×¦×•×‘ ×–×›×•×›×™×ª ×œ×××©×§ */
        .glass-panel {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.7);
        }

        /* ×¡××Ÿ ×©×™×“×•×¨ ×—×™ */
        .live-badge {
            animation: pulse-red 2s infinite;
        }
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }

        /* ×¨×©×™××ª ×”××¦×œ××•×ª */
        .cam-item {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid transparent;
        }
        .cam-item:hover, .cam-item.active {
            background: rgba(255, 255, 255, 0.1);
            border-color: #3b82f6;
            transform: scale(1.02);
        }
        .cam-item.active .status-dot {
            background-color: #3b82f6;
            box-shadow: 0 0 10px #3b82f6;
        }

        /* ××¡×š ×•×™×“××• */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            border-radius: 16px;
            background: #000;
        }
        .video-container iframe {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            border: none;
        }

        /* ×’×œ×™×œ×” ××•×ª×××ª */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-track { background: #000; }
    </style>
</head>
<body class="h-screen flex flex-col lg:flex-row overflow-hidden">

    <main class="flex-1 flex flex-col p-4 relative h-full">
        
        <header class="flex justify-between items-center mb-4">
            <div class="flex items-center gap-3">
                <i class="fas fa-globe-americas text-blue-500 text-2xl"></i>
                <div>
                    <h1 class="text-xl font-black tracking-widest">GLOBAL <span class="text-blue-500">EYE</span></h1>
                    <div class="text-xs text-gray-400">LIVE SATELLITE FEED NETWORK</div>
                </div>
            </div>
            <div class="bg-red-600/20 text-red-500 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-2 border border-red-600/30 live-badge">
                <div class="w-2 h-2 bg-red-500 rounded-full"></div> LIVE FEED
            </div>
        </header>

        <div class="video-container shadow-2xl shadow-blue-900/20 border border-gray-800">
            <iframe id="mainPlayer" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
            
            <div id="videoLoader" class="absolute inset-0 bg-black flex items-center justify-center z-10">
                <div class="animate-spin text-blue-500 text-4xl"><i class="fas fa-circle-notch"></i></div>
            </div>
        </div>

        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 h-full overflow-hidden">
            
            <div class="glass-panel p-4 rounded-xl flex flex-col justify-center">
                <h2 id="camTitle" class="text-2xl font-bold">Loading...</h2>
                <div id="camRegion" class="text-gray-400 text-sm mb-2">--</div>
                <div class="text-3xl font-mono text-blue-400" id="localTime">--:--</div>
                <div class="text-xs text-gray-500 mt-1">LOCAL TIME</div>
            </div>

            <div class="glass-panel p-4 rounded-xl flex items-center justify-between">
                <div>
                    <div class="text-gray-400 text-xs uppercase tracking-wide">Temperature</div>
                    <div class="text-5xl font-light mt-1"><span id="temp">--</span>Â°</div>
                    <div id="weatherDesc" class="text-blue-300 text-sm mt-1">--</div>
                </div>
                <div class="text-6xl text-gray-300" id="weatherIcon">ğŸŒ¤ï¸</div>
            </div>

            <div class="glass-panel p-4 rounded-xl grid grid-cols-2 gap-2">
                <div class="bg-white/5 rounded p-2 text-center">
                    <i class="fas fa-wind text-blue-400 mb-1"></i>
                    <div class="text-sm font-bold"><span id="wind">--</span></div>
                    <div class="text-[10px] text-gray-400">WIND (km/h)</div>
                </div>
                <div class="bg-white/5 rounded p-2 text-center">
                    <i class="fas fa-tint text-blue-400 mb-1"></i>
                    <div class="text-sm font-bold"><span id="humidity">--</span>%</div>
                    <div class="text-[10px] text-gray-400">HUMIDITY</div>
                </div>
                <div class="bg-white/5 rounded p-2 text-center">
                    <i class="fas fa-eye text-blue-400 mb-1"></i>
                    <div class="text-sm font-bold"><span id="vis">--</span></div>
                    <div class="text-[10px] text-gray-400">VIS (km)</div>
                </div>
                <div class="bg-white/5 rounded p-2 text-center">
                    <i class="fas fa-cloud text-blue-400 mb-1"></i>
                    <div class="text-sm font-bold"><span id="clouds">--</span>%</div>
                    <div class="text-[10px] text-gray-400">CLOUDS</div>
                </div>
            </div>
        </div>
    </main>

    <aside class="w-full lg:w-80 bg-[#0a0a0a] border-t lg:border-t-0 lg:border-r border-gray-800 flex flex-col h-1/3 lg:h-full">
        <div class="p-4 border-b border-gray-800 bg-[#0f0f0f]">
            <h3 class="font-bold text-gray-400 text-xs tracking-widest">AVAILABLE FEEDS</h3>
        </div>
        
        <div id="camList" class="overflow-y-auto p-2 space-y-2 flex-1">
            </div>
    </aside>

    <script>
        // === ×××’×¨ ××¦×œ××•×ª (YouTube Live IDs) ===
        // ×”×¢×¨×”: ×©×™×“×•×¨×™ ×œ×™×™×‘ ×‘×™×•×˜×™×•×‘ ××©×ª× ×™× ×œ×¤×¢××™×. ×‘×—×¨×ª×™ ××ª ×”×¢×¨×•×¦×™× ×”×™×¦×™×‘×™× ×‘×™×•×ª×¨.
        const cameras = [
            { name: "New York", sub: "Times Square, USA", id: "mPZ73C8yR24", lat: 40.7580, lon: -73.9855, tz: "America/New_York" },
            { name: "Tokyo", sub: "Shibuya Crossing, Japan", id: "2jR3E3n_3yY", lat: 35.6595, lon: 139.7004, tz: "Asia/Tokyo" },
            { name: "London", sub: "Heathrow Airport, UK", id: "91I8pZAQE30", lat: 51.4700, lon: -0.4543, tz: "Europe/London" },
            { name: "Venice", sub: "Grand Canal, Italy", id: "ph1vpnYIxJk", lat: 45.4408, lon: 12.3155, tz: "Europe/Rome" },
            { name: "Prague", sub: "Old Town, Czechia", id: "uQKqI5sM-vY", lat: 50.0874, lon: 14.4212, tz: "Europe/Prague" },
            { name: "Koh Samui", sub: "Beach Cam, Thailand", id: "y603a_qG0Kk", lat: 9.5120, lon: 100.0582, tz: "Asia/Bangkok" },
            { name: "Kiev", sub: "Maidan Square, Ukraine", id: "ViKj4Vw230o", lat: 50.4501, lon: 30.5234, tz: "Europe/Kiev" },
            { name: "Jackson Hole", sub: "Wyoming, USA", id: "1EiC9bvVGnk", lat: 43.4799, lon: -110.7624, tz: "America/Denver" },
            { name: "Amsterdam", sub: "Dam Square, Netherlands", id: "SjH8-r2g9x8", lat: 52.3731, lon: 4.8926, tz: "Europe/Amsterdam" }
        ];

        let currentCamIndex = 0;

        // === ××ª×—×•×œ ===
        window.onload = () => {
            renderList();
            loadCamera(0);
            
            // ×¢×“×›×•×Ÿ ×©×¢×•×Ÿ ××§×•××™ ×›×œ ×“×§×”
            setInterval(updateLocalTime, 10000);
        };

        // === ×™×¦×™×¨×ª ×¨×©×™××” ===
        function renderList() {
            const list = document.getElementById('camList');
            list.innerHTML = '';
            
            cameras.forEach((cam, index) => {
                const el = document.createElement('div');
                el.className = `cam-item p-3 rounded-lg flex items-center gap-3 ${index === 0 ? 'active' : ''}`;
                el.onclick = () => loadCamera(index);
                el.innerHTML = `
                    <div class="relative w-16 h-10 bg-gray-800 rounded overflow-hidden">
                        <img src="https://img.youtube.com/vi/${cam.id}/mqdefault.jpg" class="w-full h-full object-cover opacity-70">
                    </div>
                    <div>
                        <div class="font-bold text-sm">${cam.name}</div>
                        <div class="text-xs text-gray-500">${cam.sub}</div>
                    </div>
                    <div class="mr-auto status-dot w-2 h-2 rounded-full bg-gray-600 transition-colors"></div>
                `;
                list.appendChild(el);
            });
        }

        // === ×˜×¢×™× ×ª ××¦×œ××” ×•× ×ª×•× ×™× ===
        async function loadCamera(index) {
            currentCamIndex = index;
            const cam = cameras[index];
            
            // ×¢×“×›×•×Ÿ UI ×‘×¨×©×™××”
            document.querySelectorAll('.cam-item').forEach((el, i) => {
                if(i === index) el.classList.add('active');
                else el.classList.remove('active');
            });

            // ×”×¦×’×ª ×œ×•××“×¨
            document.getElementById('videoLoader').style.display = 'flex';

            // ×˜×¢×™× ×ª ×•×™×“××•
            const player = document.getElementById('mainPlayer');
            player.src = `https://www.youtube.com/embed/${cam.id}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&playsinline=1`;
            
            // ×¢×“×›×•×Ÿ ×›×•×ª×¨×•×ª
            document.getElementById('camTitle').innerText = cam.name;
            document.getElementById('camRegion').innerText = cam.sub;
            
            // ×”×¡×ª×¨×ª ×œ×•××“×¨ ××—×¨×™ 2 ×©× ×™×•×ª (×¡×™××•×œ×¦×™×”)
            setTimeout(() => {
                document.getElementById('videoLoader').style.display = 'none';
            }, 1500);

            // ×˜×¢×™× ×ª ××–×’ ××•×•×™×¨
            updateLocalTime();
            await fetchWeather(cam.lat, cam.lon);
        }

        // === ×× ×•×¢ ××–×’ ××•×•×™×¨ (×œ×œ× Windy) ===
        async function fetchWeather(lat, lon) {
            try {
                // ×§×¨×™××” ×œ-Open-Meteo
                const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m,visibility,cloud_cover`);
                const data = await res.json();
                const cur = data.current;

                // ×¢×“×›×•×Ÿ ×”× ×ª×•× ×™× ×‘××¡×š
                document.getElementById('temp').innerText = Math.round(cur.temperature_2m);
                document.getElementById('wind').innerText = Math.round(cur.wind_speed_10m);
                document.getElementById('humidity').innerText = cur.relative_humidity_2m;
                document.getElementById('vis').innerText = (cur.visibility / 1000).toFixed(1);
                document.getElementById('clouds').innerText = cur.cloud_cover;
                
                // ××™×™×§×•×Ÿ ×•×ª×™××•×¨
                const info = getWeatherInfo(cur.weather_code);
                document.getElementById('weatherIcon').innerText = info.icon;
                document.getElementById('weatherDesc').innerText = info.desc;

            } catch (e) {
                console.error("Weather Error", e);
            }
        }

        function updateLocalTime() {
            const cam = cameras[currentCamIndex];
            try {
                const time = new Date().toLocaleTimeString('en-US', {
                    timeZone: cam.tz,
                    hour: '2-digit',
                    minute: '2-digit',
                    hour12: false
                });
                document.getElementById('localTime').innerText = time;
            } catch (e) {
                document.getElementById('localTime').innerText = "--:--";
            }
        }

        function getWeatherInfo(code) {
            const map = {
                0: {t: "Clear Sky", i: "â˜€ï¸"},
                1: {t: "Mainly Clear", i: "ğŸŒ¤ï¸"},
                2: {t: "Partly Cloudy", i: "â›…"},
                3: {t: "Overcast", i: "â˜ï¸"},
                45: {t: "Foggy", i: "ğŸŒ«ï¸"},
                51: {t: "Drizzle", i: "ğŸŒ§ï¸"},
                61: {t: "Rain", i: "â˜”"},
                71: {t: "Snow", i: "â„ï¸"},
                95: {t: "Thunderstorm", i: "â›ˆï¸"}
            };
            const def = map[code] || map[0];
            return { desc: def.t, icon: def.i };
        }
    </script>
</body>
</html>
